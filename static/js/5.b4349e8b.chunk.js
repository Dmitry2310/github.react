(this.webpackJsonpnetwork=this.webpackJsonpnetwork||[]).push([[5],{392:function(e,t,c){"use strict";c.r(t);var n=c(149),r=c(0),s=c.n(r),i=c(15),j=c(192),u=c(1),o=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return e.chat.status}));return Object(r.useEffect)((function(){return e(Object(j.c)()),function(){e(Object(j.d)())}}),[]),Object(u.jsxs)("div",{children:["error"===t&&Object(u.jsx)("div",{children:"Some error occured. Please restart the page"}),Object(u.jsx)(a,{}),Object(u.jsx)(d,{})]})},a=function(){var e=Object(r.useRef)(null),t=Object(i.d)((function(e){return e.chat.messages})),c=Object(r.useState)(!0),s=Object(n.a)(c,2),j=s[0],o=s[1];return Object(r.useEffect)((function(){var t;j&&(null===(t=e.current)||void 0===t||t.scrollIntoView({behavior:"smooth"}))}),[t]),Object(u.jsxs)("div",{style:{height:400,overflowY:"auto"},onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<40?!j&&o(!0):j&&o(!1)},children:[t.map((function(e,t){return Object(u.jsx)(b,{message:e},e.id)})),Object(u.jsx)("div",{ref:e})]})},b=s.a.memo((function(e){var t=e.message;return console.log("message"),Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:t.photo})," ",Object(u.jsx)("b",{children:t.userName}),Object(u.jsx)("div",{children:t.message}),Object(u.jsx)("hr",{})]})})),d=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=Object(r.useState)(""),c=Object(n.a)(t,2),s=c[0],o=c[1],a=Object(i.c)(),b=Object(i.d)((function(e){return e.chat.status}));return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("textarea",{onChange:function(e){return o(e.currentTarget.value)},value:s})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{disabled:"ready"!==b,onClick:function(){""!==s&&(a(Object(j.b)(s)),o(""))},children:"Send"})})]})};t.default=function(){return Object(u.jsx)("div",{children:Object(u.jsx)(o,{})})}}}]);
//# sourceMappingURL=5.b4349e8b.chunk.js.map
{"version":3,"sources":["components/hoc/AuthRedirect.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Assets/Images/bg.jpg","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","WithAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","Post","className","style","item","src","news","message","likes","likesCount","maxLength10","maxLengthCreator","MyPosts","memo","postsElements","posts","map","post","id","AddNewPostFormRedux","onSubmit","formData","postNews","newPostText","reduxForm","form","writeMessage","handleSubmit","Field","area","validate","required","placeholder","name","component","TextArea","button","MyPostsContainer","profilePage","dispatch","addPostActionCreator","ProfileSatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","ProfileInfo","profile","Preloader","bgDescription","bgImage","bgImg","isOwner","type","target","files","length","savePhoto","avatarContainer","photos","small","userPhoto","description","userName","fullName","aboutMe","lookingForAJobDescription","Profile","ProfileContainer","refreshProfile","userId","match","params","autorizedUserId","history","push","getUserProfile","getStatus","prevProps","prevState","compose","withRouter"],"mappings":"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","file":"static/js/3.4b8f7cca.chunk.js","sourcesContent":["import React from \"react\";\nimport { Redirect } from \"react-router\";\nimport { connect } from 'react-redux';\n\nlet mapStateToPropsForRedirect = (state) => {\n    return {\n        isAuth: state.auth.isAuth\n    }\n};\n\nexport const WithAuthRedirect = (Component) => {\n\n    class RedirectComponent extends React.Component {\n        render() {\n            if (!this.props.isAuth) return <Redirect to={'/login'} />;\n            return <Component {...this.props} />\n        }\n    }\n    \n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\n\n    return ConnectedAuthRedirectComponent;\n\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgDescription\":\"ProfileInfo_bgDescription__3zN-X\",\"bgImg\":\"ProfileInfo_bgImg__1v8sR\",\"avatarContainer\":\"ProfileInfo_avatarContainer__1Nl_A\",\"description\":\"ProfileInfo_description__2yWda\",\"item\":\"ProfileInfo_item__2oxPX\",\"userName\":\"ProfileInfo_userName__2XnM7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"writeMessage\":\"MyPosts_writeMessage__2aPDx\",\"button\":\"MyPosts_button__2WbpQ\",\"area\":\"MyPosts_area__XnDhM\",\"posts\":\"MyPosts_posts__3tZ1c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ihtu9\",\"likes\":\"Post_likes__2o7Hq\",\"news\":\"Post_news__R0WCn\"};","import style from './Post.module.css';\n\nconst Post = (props) => {\n  return (\n    <div className={style.item}>\n      <img src='https://images3.alphacoders.com/690/690494.jpg'></img>\n      <div className={style.news}>{props.message}</div>\n      <div className={style.likes}><span>Likes</span> {props.likesCount}</div> \n    </div>\n  );\n}\n\nexport default Post;","import React from 'react';\nimport style from './MyPosts.module.css';\nimport Post from './Post/Post';\nimport { Field, reduxForm } from \"redux-form\";\nimport { required, maxLengthCreator } from '../../../utilits/validators/validators';\nimport { TextArea } from '../../common/FormsControls/FormsControls';\n\nconst maxLength10 = maxLengthCreator(10);\n\nconst MyPosts = React.memo((props) => {\n\n  let postsElements = props.posts.map((post) => <Post message={post.post} key={post.id} likesCount={post.likesCount} />);\n\n  let onAddPost = (formData) => {\n    props.postNews(formData.newPostText);\n  };\n\n  return (\n    <div>\n      <AddNewPostFormRedux  onSubmit={onAddPost}/>\n      <div className={style.posts}>\n        {postsElements}\n      </div>\n    </div>\n  );\n});\n\nconst AddNewPostForm = (props) => {\n  return (\n    <form className={style.writeMessage} onSubmit={props.handleSubmit}>\n      <Field className={style.area} validate={[required, maxLength10]} placeholder='Whats up?' \n      name='newPostText' component={TextArea}></Field>\n      <div className={style.button}>\n        <button>Add Post</button>\n      </div>\n    </form>\n  )\n}\n\nconst AddNewPostFormRedux = reduxForm({form: 'ProfileAddNewPostForm'})(AddNewPostForm);\n\nexport default MyPosts;","import MyPosts from './MyPosts';\nimport { addPostActionCreator } from '../../../redux/profile-reducer';\nimport { connect } from 'react-redux';\n\nlet mapStateToProps = (state) => {\n  return {\n    posts: state.profilePage.posts,\n    newPostText: state.profilePage.newPostText\n  }\n}\nlet mapDispatchToProps = (dispatch) => {\n  return {\n    postNews: (newPostText) => {\n      dispatch(addPostActionCreator(newPostText));\n    }\n  }\n}\n\nlet MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;\n","export default __webpack_public_path__ + \"static/media/bg.570f1bb2.jpg\";","import style from './ProfileInfo.module.css';\nimport React, { useState, useEffect } from 'react';\n\nconst ProfileSatusWithHooks = (props) => {\n\n    let [editMode, setEditMode] = useState(false);\n    let [status, setStatus] = useState(props.status);\n\n    useEffect( () => {\n        setStatus(props.status);\n    }, [props.status]);\n\n    const activateEditMode = () => {\n        setEditMode(true);\n    }\n    const diActivateEditMode = () => {\n        setEditMode(false);\n        props.updateStatus(status);\n    }\n    const onStatusChange = (e) => {\n        setStatus(e.currentTarget.value);\n    }\n    return (\n        <div>\n            {!editMode &&\n                <div>\n                    <div onDoubleClick={activateEditMode}>{props.status || 'No status'}</div>\n                </div>\n            }\n            {editMode &&\n                <div>\n                    <input onChange={onStatusChange} autoFocus={true} onBlur={diActivateEditMode}\n                        value={status} />\n                </div>\n            }\n        </div>\n    );\n}\n\nexport default ProfileSatusWithHooks;","import style from './ProfileInfo.module.css';\nimport Preloader from './../../common/preloader/Preloader';\nimport userPhoto from './../../Users/assets/images/user.png';\nimport bgImage from './../Assets/Images/bg.jpg';\nimport ProfileSatusWithHooks from './ProfileStatusWithHooks';\n\nconst ProfileInfo = (props) => {\n  if (!props.profile) {\n    return <Preloader />\n  }\n\n  const mainPhotoSelected = (e) => {\n    if (e.target.files.length) {\n      props.savePhoto(e.target.files[0]);\n    }\n  }\n  return (\n    <div className={style.bgDescription}>\n      <img src={bgImage} className={style.bgImg} />\n      {props.isOwner && <input type={'file'} onChange={mainPhotoSelected} />}\n      <div className={style.avatarContainer}>\n        <img src={props.profile.photos.small != null ? props.profile.photos.small : userPhoto} />\n      </div>\n      <div className={style.description}>\n        <div className={style.item}>\n          <div className={style.userName}>{props.profile.fullName}</div>\n        </div>\n        <div className={style.item}>\n          < ProfileSatusWithHooks status={props.status} updateStatus={props.updateStatus} />\n        </div>\n        <div className={style.item}>{props.profile.aboutMe}</div>\n        <div className={style.item}>{props.profile.lookingForAJobDescription}</div>\n        <div className={style.item}>{ }</div>\n      </div>\n    </div>\n  );\n}\n\nexport default ProfileInfo;","import MyPostsContainer from './MyPosts/MyPostsContainer';\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\n\nconst Profile = (props) => {\n    return (\n        <div>\n            <ProfileInfo isOwner={props.isOwner} profile= {props.profile} status= {props.status} \n                updateStatus= {props.updateStatus} savePhoto={props.savePhoto}/>\n            <MyPostsContainer />\n        </div>);\n}\n\nexport default Profile;","import React from 'react';\nimport Profile from './Profile';\nimport { connect } from 'react-redux';\nimport { getUserProfile, getStatus, updateStatus, savePhoto } from '../../redux/profile-reducer';\nimport { withRouter } from 'react-router';\nimport { WithAuthRedirect } from '../hoc/AuthRedirect';\nimport { compose } from 'redux';\n\nclass ProfileContainer extends React.Component {\n\n    refreshProfile = () => {\n        let userId = this.props.match.params.userId;\n        if (!userId) {\n            userId = this.props.autorizedUserId;\n            if (!userId) {\n                this.props.history.push('/login');\n            }\n        };\n        this.props.getUserProfile(userId);\n        this.props.getStatus(userId);\n    }\n\n    componentDidMount() {\n        this.refreshProfile();\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.props.match.params.userId != prevProps.match.params.userId) { this.refreshProfile(); }\n    }\n\n    render() {\n        return (\n            <div>\n                <Profile {...this.props} isOwner={!this.props.match.params.userId} profile={this.props.profile} status={this.props.status}\n                    updateStatus={this.props.updateStatus} savePhoto={this.props.savePhoto}/>\n            </div>);\n    }\n};\n\nlet mapStateToProps = (state) => {\n    return {\n        profile: state.profilePage.profile,\n        status: state.profilePage.status,\n        autorizedUserId: state.auth.userId,\n        isAuth: state.auth.isAuth\n    }\n};\n\nexport default compose(\n    connect(mapStateToProps, { getUserProfile, getStatus, updateStatus, savePhoto }),\n    withRouter, WithAuthRedirect\n)(ProfileContainer);\n\n\n\n\n"],"sourceRoot":""}